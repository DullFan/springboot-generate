import{p as e,a as l,d as a,r as t,g as o,b as n,c as r,e as u,w as s,F as d,o as i,f as p,h as c,i as m,u as v,j as f,k as h,l as b,E as g,m as w,n as y,q as V,s as _}from"./vendor.1b5a6d5a.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerpolicy&&(l.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?l.credentials="include":"anonymous"===e.crossorigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}(),e("data-v-d13de74a");const q={class:"toolbar flex items-center w-full"},k=b("SpringBoot-Generate"),U=[p("path",{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9 23.5 23.2 38.1 55.4 38.1 91v112.5c0.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z",fill:"#737478"},null,-1)],L=b("生成 "),C=b("SQL生成 "),S=b("配置数据库 "),B={class:"px-5 pt-5"},K={class:"dialog-footer"},x=b("取消"),P=b(" 确定 "),N={class:"dialog-footer"},I=b("取消"),R=b(" 确定 ");l();var F=a({setup(e){const l=t(!1),a=t(!1),b=t({packageBase:"",fieldIgnoreList:"",author:"",springBootGenerateVersion:3,sqlIp:"",ipPort:"",sqlName:"",sqlUsername:"",sqlPassword:"",databaseName:"",sqlStatement:""});function V(){window.open("https://github.com/DullFan/springboot-generate","_blank")}const _=t(!0),F=[{value:"2",label:"2"},{value:"3",label:"3"}];let j=t([]);function E(){}function Q(){l.value=!0}function A(){a.value=!0}const D=o().appContext.config.globalProperties.$api;function G(){""===b.value.sqlName.trim()||""===b.value.sqlIp.trim()||""===b.value.sqlUsername.trim()||""===b.value.sqlPassword.trim()||""===b.value.ipPort.trim()?g({title:"Error",message:"请填写完整数据库数据",type:"error"}):(w({method:"post",url:`${D}/findAllSQLStructure`,data:b.value}).then((function(e){500==e.data.code?g({title:"Error",message:e.data.msg,type:"error"}):j.value=e.data.data})),a.value=!1)}function O(){b.value.sqlStatement=b.value.sqlStatement.replace(/(\r\n|\n|\r)/gm,""),""===b.value.packageBase.trim()&&(b.value.packageBase="com.dullfan"),""===b.value.author.trim()&&(b.value.author="DullFan");b.value.sqlStatement.trim().toLowerCase().includes("create")?(w({method:"post",url:`${D}/findAllSQLResource`,data:b.value,responseType:"blob"}).then((function(e){const l=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=l,a.setAttribute("download","code.zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)})).catch((e=>{console.error("下载文件失败:",e)})),a.value=!1):g({title:"Error",message:"SQL不包含Create",type:"error"})}function $(){""===b.value.packageBase.trim()&&(b.value.packageBase="com.dullfan"),""===b.value.author.trim()&&(b.value.author="DullFan"),b.value.sqlStatement="",w({method:"post",url:`${D}/findSQLResource`,data:b.value,responseType:"blob"}).then((function(e){const l=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=l,a.setAttribute("download","code.zip"),document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(l)})).catch((e=>{console.error("下载文件失败:",e)})),a.value=!1}function z(e){_.value=0==e.length,b.value.databaseName=e.map((e=>e.tableName)).join(",")}return(e,t)=>{const o=n("el-text"),g=n("el-header"),w=n("el-input"),D=n("el-form-item"),M=n("el-option"),T=n("el-select"),H=n("el-form"),J=n("el-button"),W=n("el-row"),X=n("el-table-column"),Y=n("el-table"),Z=n("el-main"),ee=n("el-container"),le=n("el-dialog");return i(),r(d,null,[u(ee,{class:"layout-container-demo",style:{height:"100vh"}},{default:s((()=>[u(ee,null,{default:s((()=>[u(g,{class:"text-left el-header-custom w-full"},{default:s((()=>[p("div",q,[u(o,null,{default:s((()=>[k])),_:1}),p("svg",{onClick:V,class:"max-w-7 max-h-7 ms-auto svg-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},U)])])),_:1}),u(Z,null,{default:s((()=>[p("div",null,[u(H,{model:b.value,ref:(e,l)=>{l.queryForm=e},inline:!0,class:"px-5 pt-5"},{default:s((()=>[u(D,{label:"包名",prop:"packageBase"},{default:s((()=>[u(w,{modelValue:b.value.packageBase,"onUpdate:modelValue":t[0]||(t[0]=e=>b.value.packageBase=e),placeholder:"例如: com.dullfan.hahah",clearable:"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"忽略的字段",prop:"fieldIgnoreList"},{default:s((()=>[u(w,{modelValue:b.value.fieldIgnoreList,"onUpdate:modelValue":t[1]||(t[1]=e=>b.value.fieldIgnoreList=e),placeholder:"例如: id,status",clearable:"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"作者",prop:"author"},{default:s((()=>[u(w,{modelValue:b.value.author,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value.author=e),placeholder:"例如: DullFan",clearable:"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"SpringBoot版本",prop:"springBootGenerateVersion"},{default:s((()=>[u(T,{modelValue:b.value.springBootGenerateVersion,"onUpdate:modelValue":t[3]||(t[3]=e=>b.value.springBootGenerateVersion=e),placeholder:"Select",style:{width:"80px"}},{default:s((()=>[(i(),r(d,null,m(F,(e=>u(M,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])]),u(W,{class:"px-5"},{default:s((()=>[u(J,{type:"primary",disabled:_.value,plain:"",onClick:$,icon:v(y)},{default:s((()=>[L])),_:1},8,["disabled","icon"]),u(J,{type:"primary",plain:"",icon:v(f),onClick:Q},{default:s((()=>[C])),_:1},8,["icon"]),u(J,{type:"success",plain:"",icon:v(h),onClick:A},{default:s((()=>[S])),_:1},8,["icon"])])),_:1}),p("div",B,[u(Y,{data:v(j),"header-cell-style":{background:"#f8f8f9"},onSelectionChange:z},{default:s((()=>[u(X,{align:"center",type:"selection",width:"55"}),u(X,{align:"center",type:"index",label:"序号","min-width":"100"}),u(X,{align:"center",prop:"tableName",label:"表名","min-width":"180"}),u(X,{align:"center",prop:"beanName",label:"实体","min-width":"180"}),u(X,{align:"center",prop:"comment",label:"表描述","min-width":"180"})])),_:1},8,["data"])])])),_:1})])),_:1})])),_:1}),u(le,{modelValue:a.value,"onUpdate:modelValue":t[10]||(t[10]=e=>a.value=e),title:"配置数据库",width:"500"},{footer:s((()=>[p("div",K,[u(J,{onClick:t[9]||(t[9]=e=>a.value=!1)},{default:s((()=>[x])),_:1}),u(J,{type:"primary",onClick:G},{default:s((()=>[P])),_:1})])])),default:s((()=>[u(H,{model:b.value,ref:(e,l)=>{l.queryForm=e},"label-position":"right","label-width":"auto",class:"px-5 pt-5"},{default:s((()=>[u(D,{label:"地址",prop:"sqlIp"},{default:s((()=>[u(w,{modelValue:b.value.sqlIp,"onUpdate:modelValue":t[4]||(t[4]=e=>b.value.sqlIp=e),placeholder:"例如: 127.0.0.1",clearable:"","show-password":"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"端口",prop:"ipPort"},{default:s((()=>[u(w,{modelValue:b.value.ipPort,"onUpdate:modelValue":t[5]||(t[5]=e=>b.value.ipPort=e),placeholder:"例如: 3306",clearable:"","show-password":"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"用户名",prop:"sqlUsername"},{default:s((()=>[u(w,{modelValue:b.value.sqlUsername,"onUpdate:modelValue":t[6]||(t[6]=e=>b.value.sqlUsername=e),placeholder:"例如: DullFan",clearable:"","show-password":"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"密码",prop:"sqlPassword"},{default:s((()=>[u(w,{modelValue:b.value.sqlPassword,"onUpdate:modelValue":t[7]||(t[7]=e=>b.value.sqlPassword=e),placeholder:"例如: 123456",clearable:"","show-password":"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1}),u(D,{label:"数据库",prop:"sqlPassword"},{default:s((()=>[u(w,{modelValue:b.value.sqlName,"onUpdate:modelValue":t[8]||(t[8]=e=>b.value.sqlName=e),placeholder:"例如: code_test",clearable:"","show-password":"",onKeyup:c(E,["enter","native"])},null,8,["modelValue","onKeyup"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),u(le,{modelValue:l.value,"onUpdate:modelValue":t[13]||(t[13]=e=>l.value=e),title:"SQL生成",width:"500"},{footer:s((()=>[p("div",N,[u(J,{onClick:t[12]||(t[12]=e=>l.value=!1)},{default:s((()=>[I])),_:1}),u(J,{type:"primary",onClick:O},{default:s((()=>[R])),_:1})])])),default:s((()=>[u(D,{prop:"sqlPassword"},{default:s((()=>[u(w,{rows:10,type:"textarea",modelValue:b.value.sqlStatement,"onUpdate:modelValue":t[11]||(t[11]=e=>b.value.sqlStatement=e),placeholder:"只限Create",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"])],64)}}});F.__scopeId="data-v-d13de74a";const j={class:"app-wrapper"};const E=V({setup:e=>(e,l)=>(i(),r("div",j,[u(F)]))});E.config.globalProperties.$api="https://generateapi.dullfan.cn/api",E.use(_).mount("#app");

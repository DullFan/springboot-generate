{"version":3,"file":"descriptions-row.mjs","sources":["../../src/descriptions/descriptions-row.tsx"],"sourcesContent":["import { defineComponent, inject, PropType } from 'vue';\n\nimport { LayoutEnum } from '../common';\nimport { usePrefixClass } from '../hooks/useConfig';\n\nimport { descriptionsKey } from './const';\nimport { ItemsType, TdDescriptionItem } from './interface';\nimport { renderVNodeTNode, itemTypeIsProps } from './utils';\n\nexport default defineComponent({\n  name: 'TDescriptionsRow',\n  props: {\n    row: Array as PropType<TdDescriptionItem[]>,\n    itemType: String as PropType<ItemsType>,\n  },\n  setup(props) {\n    const descriptionsProps = inject(descriptionsKey);\n    const COMPONENT_NAME = usePrefixClass('descriptions');\n\n    const label = (node: TdDescriptionItem, layout: LayoutEnum = 'horizontal') => {\n      const labelClass = [`${COMPONENT_NAME.value}__label`];\n\n      let label = null;\n      let span = null;\n      if (itemTypeIsProps(props.itemType, node)) {\n        label = node.label;\n        span = node.span;\n      } else {\n        label = renderVNodeTNode(node, 'label');\n        span = node.props.span;\n      }\n      const labelSpan = layout === 'horizontal' ? 1 : span;\n\n      return (\n        <td colspan={labelSpan} class={labelClass} {...{ style: descriptionsProps.labelStyle }}>\n          {label}\n          {descriptionsProps.colon && ':'}\n        </td>\n      );\n    };\n\n    const content = (node: TdDescriptionItem, layout: LayoutEnum = 'horizontal') => {\n      const contentClass = [`${COMPONENT_NAME.value}__content`];\n\n      let content = null;\n      let span = null;\n      if (itemTypeIsProps(props.itemType, node)) {\n        content = node.content;\n        span = node.span;\n      } else {\n        content = renderVNodeTNode(node, 'content', 'default');\n        span = node.props.span;\n      }\n      const contentSpan = span > 1 && layout === 'horizontal' ? span * 2 - 1 : span;\n\n      return (\n        <td colspan={contentSpan} class={contentClass} {...{ style: descriptionsProps.contentStyle }}>\n          {content}\n        </td>\n      );\n    };\n\n    // 总共有四种布局\n    // Layout horizontal vertical\n    // itemLayout horizontal vertical\n\n    const hh = () => (\n      <tr>\n        {props.row.map((node) => (\n          <>\n            {label(node)}\n            {content(node)}\n          </>\n        ))}\n      </tr>\n    );\n\n    const hv = () => (\n      <>\n        <tr>{props.row.map((node) => label(node, 'vertical'))}</tr>\n        <tr>{props.row.map((node) => content(node, 'vertical'))}</tr>\n      </>\n    );\n\n    const vh = () => (\n      <>\n        {props.row.map((node) => (\n          <tr>\n            {label(node)}\n            {content(node)}\n          </tr>\n        ))}\n      </>\n    );\n\n    const vv = () => (\n      <>\n        {props.row.map((node) => (\n          <>\n            <tr>{label(node)}</tr>\n            <tr>{content(node)}</tr>\n          </>\n        ))}\n      </>\n    );\n\n    return () => (\n      <>\n        {descriptionsProps.layout === 'horizontal'\n          ? descriptionsProps.itemLayout === 'horizontal'\n            ? hh()\n            : hv()\n          : descriptionsProps.itemLayout === 'horizontal'\n          ? vh()\n          : vv()}\n      </>\n    );\n  },\n});\n"],"names":["defineComponent","name","props","row","Array","itemType","String","setup","descriptionsProps","inject","descriptionsKey","COMPONENT_NAME","usePrefixClass","label","node","layout","arguments","length","undefined","labelClass","concat","value","span","itemTypeIsProps","renderVNodeTNode","labelSpan","_createVNode","_mergeProps","style","labelStyle","colon","content","contentClass","contentSpan","contentStyle","hh","map","_Fragment","hv","vh","vv","itemLayout"],"mappings":"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"}
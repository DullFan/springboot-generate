{"version":3,"file":"input-number.mjs","sources":["../../src/input-number/input-number.tsx"],"sourcesContent":["import { defineComponent, SetupContext } from 'vue';\nimport {\n  AddIcon as TdAddIcon,\n  RemoveIcon as TdRemoveIcon,\n  ChevronDownIcon as TdChevronDownIcon,\n  ChevronUpIcon as TdChevronUpIcon,\n} from 'tdesign-icons-vue-next';\nimport TButton from '../button';\nimport TInput from '../input';\nimport props from './props';\nimport { useGlobalIcon } from '../hooks/useGlobalIcon';\nimport { TdInputNumberProps } from './type';\nimport useInputNumber from './useInputNumber';\nimport { useTNodeJSX } from '../hooks';\n\nexport default defineComponent({\n  name: 'TInputNumber',\n  props,\n  // 保持纯净（逻辑和节点渲染分开）\n  setup(props: TdInputNumberProps, context: SetupContext) {\n    const renderTNodeJSX = useTNodeJSX();\n    const { AddIcon, RemoveIcon, ChevronDownIcon, ChevronUpIcon } = useGlobalIcon({\n      AddIcon: TdAddIcon,\n      RemoveIcon: TdRemoveIcon,\n      ChevronDownIcon: TdChevronDownIcon,\n      ChevronUpIcon: TdChevronUpIcon,\n    });\n    const p = useInputNumber(props);\n    const { inputRef } = p;\n\n    context.expose({ ...p });\n\n    return () => {\n      const reduceIcon =\n        props.theme === 'column' ? <ChevronDownIcon size={props.size} /> : <RemoveIcon size={props.size} />;\n      const addIcon = props.theme === 'column' ? <ChevronUpIcon size={props.size} /> : <AddIcon size={props.size} />;\n      const status = p.isError.value ? 'error' : props.status;\n      const classPrefix = p.classPrefix.value;\n      const tipsNode = renderTNodeJSX('tips');\n\n      return (\n        <div class={p.wrapClasses.value}>\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.reduceClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleReduce}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => reduceIcon}\n            />\n          )}\n          <TInput\n            ref={inputRef}\n            disabled={p.tDisabled.value}\n            readonly={props.readonly}\n            autocomplete=\"off\"\n            placeholder={props.placeholder}\n            unselectable={props.readonly ? 'on' : 'off'}\n            autoWidth={props.autoWidth}\n            align={props.align || (props.theme === 'row' ? 'center' : undefined)}\n            status={status}\n            label={props.label}\n            suffix={props.suffix}\n            {...p.listeners}\n            {...props.inputProps}\n            v-slots={context.slots}\n            value={p.userInput.value}\n            onChange={p.onInnerInputChange}\n          />\n          {props.theme !== 'normal' && (\n            <TButton\n              class={p.addClasses.value}\n              disabled={p.tDisabled.value}\n              onClick={p.handleAdd}\n              variant=\"outline\"\n              shape=\"square\"\n              icon={() => addIcon}\n            />\n          )}\n          {tipsNode && (\n            <div class={`${classPrefix}-input__tips ${classPrefix}-tips ${classPrefix}-is-${status}`}>{tipsNode}</div>\n          )}\n        </div>\n      );\n    };\n  },\n});\n"],"names":["defineComponent","name","props","setup","context","renderTNodeJSX","useTNodeJSX","_useGlobalIcon","useGlobalIcon","AddIcon","TdAddIcon","RemoveIcon","TdRemoveIcon","ChevronDownIcon","TdChevronDownIcon","ChevronUpIcon","TdChevronUpIcon","p","useInputNumber","inputRef","expose","_objectSpread","reduceIcon","theme","_createVNode","size","addIcon","status","isError","value","classPrefix","tipsNode","wrapClasses","TButton","reduceClasses","tDisabled","handleReduce","icon","TInput","_mergeProps","readonly","placeholder","autoWidth","align","label","suffix","listeners","inputProps","userInput","onInnerInputChange","slots","addClasses","handleAdd","concat"],"mappings":"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"}
{"version":3,"file":"tab-panel.mjs","sources":["../../src/tabs/tab-panel.tsx"],"sourcesContent":["import { computed, defineComponent, inject, ref, watch } from 'vue';\nimport props from './tab-panel-props';\nimport { usePrefixClass, useCommonClassName } from '../hooks/useConfig';\nimport useDestroyOnClose from '../hooks/useDestroyOnClose';\nimport { useContent } from '../hooks/tnode';\n\nimport type { InjectTabs } from './tabs';\n\nexport default defineComponent({\n  name: 'TTabPanel',\n\n  props: { ...props },\n\n  setup(props) {\n    const COMPONENT_NAME = usePrefixClass('tab-panel');\n    const { STATUS } = useCommonClassName();\n    const renderTNodeContent = useContent();\n\n    useDestroyOnClose();\n\n    const tabs = inject<InjectTabs>('tabs');\n    const isActive = computed(() => props.value === tabs.value.value);\n    const isMount = ref(props.lazy ? isActive.value : true);\n\n    watch(\n      isActive,\n      () => {\n        if (isActive.value) {\n          if (!isMount.value) {\n            isMount.value = true;\n          }\n        } else if (props.destroyOnHide) {\n          isMount.value = false;\n        }\n      },\n      { immediate: true },\n    );\n\n    const tabPanelClass = computed(() => [\n      COMPONENT_NAME.value,\n      {\n        [STATUS.value.hidden]: !isActive.value,\n      },\n    ]);\n    return () => {\n      if (!isMount.value) return null;\n      return <div class={tabPanelClass.value}>{renderTNodeContent('default', 'panel')}</div>;\n    };\n  },\n});\n"],"names":["defineComponent","name","props","_objectSpread","setup","COMPONENT_NAME","usePrefixClass","_useCommonClassName","useCommonClassName","STATUS","renderTNodeContent","useContent","useDestroyOnClose","tabs","inject","isActive","computed","value","isMount","ref","lazy","watch","destroyOnHide","immediate","tabPanelClass","_defineProperty","hidden","_createVNode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,gBAAeA,eAAgB,CAAA;AAC7BC,EAAAA,IAAM,EAAA,WAAA;AAENC,EAAAA,KAAA,EAAAC,aAAA,CAAYD,EAAAA,EAAAA,aAAM,CAAA;EAElBE,qBAAMF,CAAAA,MAAO,EAAA;AACL,IAAA,IAAAG,cAAA,GAAiBC,eAAe,WAAW,CAAA,CAAA;AAC3C,IAAA,IAAAC,mBAAA,GAAaC,kBAAmB,EAAA;MAA9BC,MAAO,GAAAF,mBAAA,CAAPE,MAAO,CAAA;AACf,IAAA,IAAMC,qBAAqBC,UAAW,EAAA,CAAA;AAEpBC,IAAAA,iBAAA,EAAA,CAAA;AAEZ,IAAA,IAAAC,IAAA,GAAOC,OAAmB,MAAM,CAAA,CAAA;IACtC,IAAMC,WAAWC,QAAS,CAAA,YAAA;MAAA,OAAMd,OAAMe,KAAU,KAAAJ,IAAA,CAAKI,MAAMA,KAAK,CAAA;KAAA,CAAA,CAAA;AAChE,IAAA,IAAMC,UAAUC,GAAIjB,CAAAA,MAAAA,CAAMkB,IAAO,GAAAL,QAAA,CAASE,QAAQ,IAAI,CAAA,CAAA;IAEtDI,KAAA,CACEN,QAAA,EACA,YAAM;MACJ,IAAIA,SAASE,KAAO,EAAA;AACd,QAAA,IAAA,CAACC,QAAQD,KAAO,EAAA;UAClBC,OAAA,CAAQD,KAAQ,GAAA,IAAA,CAAA;AAClB,SAAA;AACF,OAAA,MAAA,IAAWf,OAAMoB,aAAe,EAAA;QAC9BJ,OAAA,CAAQD,KAAQ,GAAA,KAAA,CAAA;AAClB,OAAA;AACF,KAAA,EACA;AAAEM,MAAAA,WAAW,IAAA;AAAK,KACpB,CAAA,CAAA;IAEM,IAAAC,aAAA,GAAgBR,SAAS,YAAA;AAAA,MAAA,OAAM,CACnCX,cAAe,CAAAY,KAAA,EAAAQ,eAAA,CAEZhB,EAAAA,EAAAA,MAAA,CAAOQ,KAAM,CAAAS,MAAA,EAAS,CAACX,QAAS,CAAAE,KAAA,CAEpC,CAAA,CAAA;KAAA,CAAA,CAAA;AACD,IAAA,OAAO,YAAM;AACX,MAAA,IAAI,CAACC,OAAQ,CAAAD,KAAA,EAAc,OAAA,IAAA,CAAA;AACpB,MAAA,OAAAU,WAAA,CAAA,KAAA,EAAA;AAAA,QAAA,OAAA,EAAYH,aAAA,CAAcP,KAAAA;UAAQP,kBAAmB,CAAA,SAAA,EAAW,OAAO,CAAA,CAAA,CAAA,CAAA;KAChF,CAAA;AACF,GAAA;AACF,CAAC,CAAA;;;;"}
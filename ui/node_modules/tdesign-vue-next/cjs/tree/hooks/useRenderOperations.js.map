{"version":3,"file":"useRenderOperations.js","sources":["../../../src/tree/hooks/useRenderOperations.tsx"],"sourcesContent":["import { usePrefixClass, TypeCreateElement, TypeVNode } from '../adapt';\nimport { TypeTreeItemState } from '../tree-types';\nimport { getTNode } from '../util';\n\n// 渲染节点操作区域\nexport default function useRenderOperations(state: TypeTreeItemState) {\n  const componentName = usePrefixClass('tree').value;\n\n  const renderOperations = (h: TypeCreateElement): TypeVNode => {\n    const { node, treeScope } = state;\n    const { scopedSlots } = treeScope;\n    const treeProps = treeScope?.treeProps || {};\n    const { operations } = treeProps;\n\n    let opNode = null;\n    if (scopedSlots?.operations) {\n      opNode = scopedSlots.operations({\n        node: node?.getModel(),\n      });\n    } else {\n      opNode = getTNode(operations, {\n        createElement: h,\n        node,\n      });\n    }\n    if (opNode) {\n      opNode = (\n        <span class={`${componentName}__operations`} ignore=\"active,expand\">\n          {opNode}\n        </span>\n      );\n    }\n    return opNode as TypeVNode;\n  };\n\n  return {\n    renderOperations,\n  };\n}\n"],"names":["useRenderOperations","state","componentName","usePrefixClass","value","renderOperations","h","node","treeScope","scopedSlots","treeProps","operations","opNode","getModel","getTNode","createElement","_createVNode","concat"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,SAAwBA,oBAAoBC,KAA0B,EAAA;AAC9D,EAAA,IAAAC,aAAA,GAAgBC,8BAAe,CAAA,MAAM,CAAE,CAAAC,KAAA,CAAA;AAEvC,EAAA,IAAAC,gBAAA,GAAmB,SAAnBA,gBAAAA,CAAoBC,CAAoC,EAAA;AACtD,IAAA,IAAEC,IAAM,GAAcN,KAAA,CAApBM,IAAM;MAAAC,SAAA,GAAcP,KAAA,CAAdO,SAAA,CAAA;AACR,IAAA,IAAEC,cAAgBD,SAAA,CAAhBC;AACF,IAAA,IAAAC,SAAA,GAAY,CAAAF,SAAW,KAAXA,IAAAA,IAAAA,SAAW,KAAXA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,SAAW,CAAAE,SAAA,KAAa,EAAC,CAAA;AACrC,IAAA,IAAEC,aAAeD,SAAA,CAAfC;IAER,IAAIC,MAAS,GAAA,IAAA,CAAA;AACb,IAAA,IAAIH,gBAAAA,IAAAA,IAAAA,0BAAAA,YAAaE,UAAY,EAAA;AAC3BC,MAAAA,MAAA,GAASH,YAAYE,UAAW,CAAA;QAC9BJ,IAAA,EAAMA,SAAAA,IAAAA,IAAAA,2BAAAA,KAAMM,QAAS,EAAA;AACvB,OAAC,CAAA,CAAA;AACH,KAAO,MAAA;AACLD,MAAAA,MAAA,GAASE,mBAASH,UAAY,EAAA;AAC5BI,QAAAA,aAAe,EAAAT,CAAA;AACfC,QAAAA,IAAA,EAAAA,IAAAA;AACF,OAAC,CAAA,CAAA;AACH,KAAA;AACA,IAAA,IAAIK,MAAQ,EAAA;AAERA,MAAAA,MAAA,GAAAI,eAAA,CAAA,MAAA,EAAA;QAAA,OAAAC,EAAAA,EAAAA,CAAAA,MAAA,CAAgBf;;UACbU,OADF,CAAA,CAAA;AAIL,KAAA;AACO,IAAA,OAAAA,MAAA,CAAA;GACT,CAAA;EAEO,OAAA;AACLP,IAAAA,gBAAA,EAAAA,gBAAAA;GACF,CAAA;AACF;;;;"}
{"version":3,"file":"animate.js","sources":["../../src/notification/animate.ts"],"sourcesContent":["import { PLACEMENT_LIST } from './const';\n\ninterface Keyframe {\n  composite?: CompositeOperationOrAuto;\n  easing?: string;\n  offset?: number | null;\n  [property: string]: string | number | null | undefined;\n}\ntype CompositeOperationOrAuto = 'accumulate' | 'add' | 'auto' | 'replace';\n\nconst ANIMATION_OPTION = {\n  duration: 200,\n  easing: 'linear',\n};\n\nconst fadeIn = (dom: HTMLElement, placement: string) => {\n  if (!dom) return;\n  const offsetHeight = dom?.offsetHeight || 0;\n  const offsetWidth = dom?.offsetWidth || 0;\n  const keyframes: Array<Keyframe> | null = getFadeInKeyframes(placement, offsetWidth, offsetHeight);\n  if (!keyframes) return;\n  dom.animate && dom.animate(keyframes, ANIMATION_OPTION);\n};\n\nconst fadeOut = (dom: HTMLElement, placement: string, onFinish: Function) => {\n  if (!dom) return;\n  const offsetHeight = dom?.offsetHeight || 0;\n  const offsetWidth = dom?.offsetWidth || 0;\n  const keyframes: Array<Keyframe> | null = getFadeOutKeyframes(placement, offsetWidth, offsetHeight);\n  if (!keyframes) return onFinish();\n\n  const animate = dom.animate && dom.animate(keyframes, ANIMATION_OPTION);\n  if (animate) {\n    animate.onfinish = () => {\n      onFinish();\n    };\n  } else {\n    dom.style.display = 'none';\n    onFinish();\n  }\n};\n\nconst getFadeInKeyframes = (placement: string, offsetWidth: Number, offsetHeight: Number): Array<Keyframe> | null => {\n  if (!PLACEMENT_LIST.includes(placement)) return null;\n  if (placement === 'top-right') {\n    return [\n      { opacity: 0, transform: `translateX(${offsetWidth}px)` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'bottom-right') {\n    return [\n      { opacity: 0, transform: `translateX(${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'top-left') {\n    return [\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n  if (placement === 'bottom-left') {\n    return [\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n      { opacity: 1, transform: `translateX(0px)` },\n    ];\n  }\n};\n\nconst getFadeOutKeyframes = (placement: string, offsetWidth: Number, offsetHeight: Number): Array<Keyframe> | null => {\n  if (!PLACEMENT_LIST.includes(placement)) return null;\n  if (placement === 'top-right') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n    ];\n  }\n  if (placement === 'bottom-right') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(${offsetWidth}px)` },\n    ];\n  }\n  if (placement === 'top-left') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)`, marginBottom: `-${offsetHeight}px` },\n    ];\n  }\n  if (placement === 'bottom-left') {\n    return [\n      { opacity: 1, transform: `translateX(0px)` },\n      { opacity: 0, transform: `translateX(-${offsetWidth}px)` },\n    ];\n  }\n};\n\nexport { fadeIn, fadeOut };\n"],"names":["ANIMATION_OPTION","duration","easing","fadeIn","dom","placement","offsetHeight","offsetWidth","keyframes","getFadeInKeyframes","animate","fadeOut","onFinish","getFadeOutKeyframes","onfinish","style","display","PLACEMENT_LIST","includes","opacity","transform","concat","marginBottom"],"mappings":"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"}
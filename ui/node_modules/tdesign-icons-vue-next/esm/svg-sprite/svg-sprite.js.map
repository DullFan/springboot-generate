{"version":3,"file":"svg-sprite.js","sources":["../../src/svg-sprite/svg-sprite.tsx"],"sourcesContent":["import {\n  computed, defineComponent, h, onMounted,\n} from 'vue';\n\nimport ConfigContext from '../utils/config-context';\nimport useSizeProps from '../utils/use-size-props';\nimport { checkScriptAndLoad } from '../utils/check-url-and-load';\n\nimport props from './props/props';\n\nimport '../style/css';\n\nconst { classPrefix } = ConfigContext;\n\nconst CDN_ICONFONT_URL = 'https://tdesign.gtimg.com/icon/0.2.0/fonts/index.js';\n\nexport default defineComponent({\n  name: 'Icon',\n  props,\n  setup(props, { attrs }) {\n    const propsSize = computed(() => props.size);\n    const name = computed(() => props.name || '');\n\n    const { className: sizeClassName, style: sizeStyle } = useSizeProps(propsSize);\n\n    const finalUrl = computed(() => {\n      let url = [];\n      url = props.url instanceof Array ? props.url.concat() : [props.url];\n      if (props.loadDefaultIcons) url.push(CDN_ICONFONT_URL);\n      return url;\n    });\n\n    const classNames = computed(() => [\n      `${classPrefix}-icon`,\n      `${classPrefix}-icon-${name.value}`,\n      sizeClassName.value,\n\n    ]);\n\n    const finalStyle = computed(() => ({ ...sizeStyle.value, ...(attrs.style as Styles) }));\n\n    onMounted(() => {\n      Array.from(new Set(finalUrl.value as string[])).forEach((url: string) => {\n        checkScriptAndLoad(url, `${classPrefix}-svg-js-stylesheet--unique-class`);\n      });\n    });\n\n    const finalProps = computed(() => ({\n      class: classNames.value,\n      style: finalStyle.value,\n      onClick: (e:MouseEvent) => props.onClick?.({ e }),\n    }));\n\n    return () => h('svg', finalProps.value, h('use', { href: props.url ? `#${name.value}` : `#t-icon-${name.value}` }));\n  },\n\n});\n"],"names":["classPrefix","ConfigContext","CDN_ICONFONT_URL","defineComponent","name","props","setup","props2","attrs","propsSize","computed","size","className","sizeClassName","style","sizeStyle","useSizeProps","finalUrl","url","Array","concat","loadDefaultIcons","push","classNames","value","finalStyle","_objectSpread","from","Set","forEach","finalProps","class","onClick","e","_props2$onClick","call","h","href"],"mappings":";;;;;;;;;;;AAYA,IAAM;EAAEA;IAAgBC;AAExB,IAAMC,mBAAmB;AAEzB,YAAeC,gBAAgB;EAC7BC,MAAM;EACNC;EACAC,MAAMC,cAAkB;IAAA,IAAX;MAAEC;;QACPC,YAAYC,SAAS,MAAMH,OAAMI;QACjCP,OAAOM,SAAS,MAAMH,OAAMH,QAAQ;QAEpC;MAAEQ,WAAWC;MAAeC,OAAOC;QAAcC,aAAaP;QAE9DQ,WAAWP,SAAS,MAAM;UAC1BQ,MAAM;YACJX,OAAMW,eAAeC,QAAQZ,OAAMW,IAAIE,WAAW,CAACb,OAAMW;UAC3DX,OAAMc,sBAAsBC,KAAKpB;aAC9BgB;;QAGHK,aAAab,SAAS,MAAM,IAAAU,MAAA,CAC7BpB,iCACAA,8BAAoBI,KAAKoB,QAC5BX,cAAcW;QAIVC,aAAaf,SAAS,MAAAgB,aAAA,CAAAA,aAAA,KAAYX,UAAUS,QAAWhB,MAAMM;cAEzD,MAAM;YACRa,KAAK,IAAIC,IAAIX,SAASO,QAAoBK,QAASX,OAAgB;2BACpDA,eAAQlB;;;QAIzB8B,aAAapB,SAAS;MAC1BqB,OAAOR,WAAWC;MAClBV,OAAOW,WAAWD;MAClBQ,SAAUC;;kCAAiB1B,OAAMyB,2DAANE,eAAA,CAAAC,IAAA,CAAA5B,QAAgB;UAAE0B;;;;WAGxC,MAAMG,EAAE,OAAON,WAAWN,OAAOY,EAAE,OAAO;MAAEC,MAAM9B,OAAMW,iBAAUd,KAAKoB,2BAAqBpB,KAAKoB;;;AAAA;;;;"}